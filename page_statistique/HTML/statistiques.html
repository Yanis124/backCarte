<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../CSS/body.css">
    <!--<link rel="stylesheet" href="../CSS/header.css">
    <link rel="stylesheet" href="../CSS/footer.css">-->    
    <link rel="stylesheet" href="../CSS/section.css">
    <link rel="stylesheet" href="../CSS/table.css">
    <link rel="stylesheet" href="../CSS/select.css">
    <link rel="stylesheet" href="../CSS/button-section.css">
    
    <link rel="stylesheet" href="../CSS/spine.css">
    <link rel="stylesheet" href="../../page_carte/CSS/filtres.css">
    <link rel="stylesheet" href="../../page_carte/CSS/style.css">


    <link href="https://fonts.googleapis.com/css?family=Catamaran:400,700&display=swap" rel="stylesheet"> <!-- style de header -->

    <link rel="stylesheet" href="../../commun.css" type="text/css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Statistiques</title>
</head>
<body onload="createFirstTbody() ;DrawTable()" class="header">
    <!--<header id="#top">
        
            <ul class="list-header">
                <a class="anc-title" href="../../page_accueil/page_accueil.html" > <li >Accidentologie</li></a>
            
            
                <a class="anc-sous-titre" href="../../page_carte/HTML/page_carte.html"> <li >Carte</li> </a>
           
            
                <a class="anc-sous-titre" href="../../page_crédit/page_credit.html"> <li>Crédits</li> </a>

                <a class="anc-sous-titre" href="../../page_A_propos_de_nous/page_a-propos-de-nous.html"> <li>A propos de nous</li> </a>
            </ul>
        
    </header>-->
    <header id="header_absolute">

        <div class="container">

            <div>
                
                <div>

                    <ul class="pages">
                        <li><a href="../../page_accueil/essaie.html"><img src="../../page_carte/images/logo.jpg" alt="Logo de Accidentologie"></a></li>
                        <li><a href="../../page_carte/HTML/page_carte.html"> Carte</a></li>
                        <li><a href="statistiques.html">  Statistiques</a></li>
                    </ul>
                </div>

        </div>

    </header>

<!-- SECOND HEADER-->
     <header id="header_fixed">

        <div class="container">

            <div>

                <div>

                    <div>
                        <ul class="pages">
                            <li><a href="../../page_accueil/essaie.html"><img src="../../page_carte/images/logo.jpg" alt="Logo de Accidentologie"></a></li>
                            <li><a href="../../page_carte/HTML/page_carte.html">Carte</a></li>
                            <li><a href="statistiques.html">Statistiques</a></li>

                        </ul>
                    </div>
                </div>

            </div>

        </div>

    </header>

    <main>
        
        <section class="section-graph">
            <div class="graph-table-container" >
                    <div class="graph-filtres-container" id="graph-filtres-container">
                
                                <div class="filtres-container">
                                    <div class="axe-x-container">
                                        <label for="axe-x">axe X :</label>
                                        <select id="axe-x" onchange="afficherFiltres(); getValueX()" name="axe-x">
                                            <option value="datetime">année</option>
                                            <option value="reg_name">région</option>
                                            <option value="dep_name">département</option>
                                            <option value="atm">condition métérologique</option>
                                            <option value="sexe">sexe</option>
                                            <option value="an_nais">tranche d'âge</option>
                                            <option value="grav">gravité</option>
                                            <option value="lum">jour/nuit</option>
                                        </select>
                                    </div>
                                    <div class="colonne-container">
                                        <label for="colonne">type de graphe:</label>
                                        <select id="graph-select" onchange="getValueColonne()" name="colonne">
                                            <option value="courbe">courbe</option>
                                            <option value="colonne">colonne</option>
                                            <option value="camembert">camembert</option>
                                        </select>
                                    </div> 
                                    <div class="filtre-lieu-container" >
                                        <label for="lieu">lieu :</label>
                                        <select onchange="getLieu()" name="lieu" id="lieu-select">
                                            <option value="tous-les-lieux">tous les lieux</option>
                                            
                                        </select>
                                    </div>
                                    <div class="filtre-annee-container" style="display:none"> <!-- filtre annee caché car on affiche le nombre d'accient par annee par defaut-->
                                        <label for="annee">année:</label>
                                        <select  name="annee" onchange="getAnnee()" id="annee-graph-select">
                                            <option value="toutes-les-annees">toutes les années</option>
                                            <option value="2019">2019</option>
                                            <option value="2018">2018</option>
                                            <option value="2017">2017</option>
                                            <option value="2016">2016</option>
                                            <option value="2015">2015</option>
                                            <option value="2014">2014</option>
                                            <option value="2013">2013</option>
                                            <option value="2012">2012</option>
                                        </select>
                                    </div>
                                    
                                </div>                        
                        <div class="graph-container" id="graph-container">
                            <canvas id="canvas">
                                <!-- le graphe sera afficher ici-->
                            </canvas>
                            <svg id="spinner-graph"  width="80px" height="80px" viewBox="0 0 66 66" >
                                <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
                            </svg>
                            <p id="erreurs-graph"> message d'erreur</p>
                        </div>
                    </div>
                    <div class="table-annee-container" id="table">
                        <div class="table-container" id="table-container">

                            <table id="table-region-data">
                                <thead>
                                    <tr>
                                        <th>
                                            classement
                                        </th>
                                        <th>
                                             région
                                        </th>
                                        <th>
                                            nombre d'accidents
                                        </th>
                                    </tr>
                                </thead>

                            </table>
                            <tbody>
                                
                            </tbody>
                            <p id="erreurs-table" > message d'erreur</p>
                          

                        </div>
                        <div  class="annee-container" >
                            <select  class="filtre-annee" name="annee" id="annee-table-select" onchange=" getAnneeTable()" >
                                <option value="toutes-les-annees">toutes les années</option>
                                <option value="2019">2019</option>
                                <option value="2018">2018</option>
                                <option value="2017">2017</option>
                                <option value="2016">2016</option>
                                <option value="2015">2015</option>
                                <option value="2014">2014</option>
                                <option value="2013">2013</option>
                                <option value="2012">2012</option>
                                
                            </select>
                        </div>
                    </div>
                
                
               
                   

                </div>
            </div>
            <div class="telecharger-container">
                
                <button onclick="download()">télécharger
                    <img style="vertical-align:middle"   id="image-telecharger" src="../images/téléchargerwhite.svg" alt="télécharger" title="télécharger">
                    <a href="#" class="info"><span>télécharger le graph</span></a>
                    
                </button>
                
                
                    
            </div>
            
                
        </section>
    </main>
    <!--<footer>
        
            <div class="contactez-nous-container">
                <p>Contactez-nous</p>
                <ul>
                    <a href="mailto:hammaciyanis@gmail.com"> <li>hammaciyanis@gmail.com</li> </a>
                    <a href="mailto:maelle.bourbon@gmail.com"> <li>maelle.bourbon@gmail.com</li> </a>
                    <a href="mailto:dylanchou2003@gmail.com"> <li>dylanchou2003@gmail.com</li> </a>
                    <a href="mailto:poirier.seraphin@gmail.com"> <li>poirier.seraphin@gmail.com</li> </a>
                </ul>
            </div>
            
            <div class="liens-utils-container">
                <p>Liens utiles</p>
                <ul>
                    <a href="https://public.opendatasoft.com/explore/?sort=modified"> <li>opendatasoft</li> </a>
                    <a href="https://www.data.gouv.fr/fr/"> <li>datagouv</li> </a>
                </ul>
            </div>  
            
            <div class="nombre-accident">
                <p>Nombre d'accidents enregistrés</p>
                <span id="nombre-accident"></span>
                <script src="../Javascript/nombre-accident.js"></script>
            </div>
        
        

        
            
        
    </footer>-->
    <!--Navigation entre les pages secondaire-->
    <footer id="footer">

        <div class="container">
    
            <div>
    
                <div>
    
                    <div class="footer-set_up">
                        <ul class="pages">
                            <li><a href="../../page_crédit/page_credit.html">Crédits</a></li>
                            <li><a href="../../page_A_propos_de_nous/page_a-propos-de-nous.html">À Propos de Nous</a></li>
                        </ul>
                        
                    </div>
                </div>
            </div>
    
        </div>
    
    </footer>

    </div>
</body>
</html>
<script src="../Javascript/style.js"></script>
<script src="../Javascript/graph-config.js"></script>
<script src="../Javascript/graph-table-load.js"></script>
<script src="../Javascript/age-lum.js"></script>
<script src="../Javascript/graph-data.js"></script>
<script src="../Javascript/graph-filtres.js"></script>
<script src="../Javascript/init-filtre.js"></script>

<script src="../Javascript/graph-download.js"></script>
<script src="../Javascript/tableau.js"></script>

